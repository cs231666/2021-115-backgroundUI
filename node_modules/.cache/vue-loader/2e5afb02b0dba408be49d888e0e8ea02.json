{"remainingRequest":"D:\\wyh\\工程实践\\第三周\\present-cloud-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\wyh\\工程实践\\第三周\\present-cloud-web\\src\\views\\system\\menumanagement\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\wyh\\工程实践\\第三周\\present-cloud-web\\src\\views\\system\\menumanagement\\index.vue","mtime":1616938931737},{"path":"D:\\wyh\\工程实践\\第三周\\present-cloud-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\wyh\\工程实践\\第三周\\present-cloud-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\wyh\\工程实践\\第三周\\present-cloud-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\wyh\\工程实践\\第三周\\present-cloud-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcm5hbWU6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VybmFtZScpLAogICAgICBtZW51VHlwZUxpc3Q6IFsKICAgICAgICB7IGlkOiAnTScsIHZhbHVlOiAn55uu5b2VJyB9LAogICAgICAgIHsgaWQ6ICdDJywgdmFsdWU6ICfoj5zljZUnIH0sCiAgICAgICAgeyBpZDogJ0YnLCB2YWx1ZTogJ+aMiemSricgfQogICAgICBdLAogICAgICBtZW51SW5mbzogW10sCiAgICAgIHF1ZXJ5SW5mbzoge30sCiAgICAgIGFkZERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBhZGRGb3JtOiB7CiAgICAgICAgaWQ6ICcnLAogICAgICAgIG1lbnVOYW1lOiAnJywKICAgICAgICBwYXJlbnROYW1lOiAnJywKICAgICAgICBwYXJlbnRJZDogJycsCiAgICAgICAgb3JkZXJOdW06ICcnLAogICAgICAgIHBhdGg6ICcnLAogICAgICAgIE1UeXBlOiAnJwogICAgICB9LAogICAgICBhZGRGb3JtUnVsZXM6IHsKICAgICAgICBpZDogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeiPnOWNlUlEJywgdHJpZ2dlcjogJ2JsdXInIH0KICAgICAgICBdLAogICAgICAgIG1lbnVOYW1lOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl6I+c5Y2V5ZCNJywgdHJpZ2dlcjogJ2JsdXInIH0KICAgICAgICBdLAogICAgICAgIHBhcmVudElkOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl54i26I+c5Y2VSUQnLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0sCiAgICAgICAgcGFyZW50TmFtZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeeItuiPnOWNleWQjScsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXSwKICAgICAgICBvcmRlck51bTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeaYvuekuumhuuW6jycsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXSwKICAgICAgICBwYXRoOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl6Lev55Sx6Lev5b6EJywgdHJpZ2dlcjogJ2JsdXInIH0KICAgICAgICBdCiAgICAgIH0sCiAgICAgIGVkaXREaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgZWRpdE1lbnVGb3JtOiB7CiAgICAgICAgaWQ6ICcnLAogICAgICAgIG1lbnVOYW1lOiAnJywKICAgICAgICBwYXJlbnROYW1lOiAnJywKICAgICAgICBwYXJlbnRJZDogJycsCiAgICAgICAgb3JkZXJOdW06ICcnLAogICAgICAgIHBhdGg6ICcnCiAgICAgIH0sCiAgICAgIGVkaXRNZW51Rm9ybVJ1bGVzOiB7CiAgICAgICAgaWQ6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXoj5zljZVJRCcsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXSwKICAgICAgICBtZW51TmFtZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeiPnOWNleWQjScsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXSwKICAgICAgICBwYXJlbnRJZDogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeeItuiPnOWNlUlEJywgdHJpZ2dlcjogJ2JsdXInIH0KICAgICAgICBdLAogICAgICAgIHBhcmVudE5hbWU6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXniLboj5zljZXlkI0nLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0sCiAgICAgICAgb3JkZXJOdW06IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXmmL7npLrpobrluo8nLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0sCiAgICAgICAgcGF0aDogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpei3r+eUsei3r+W+hCcsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXQogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRNZW51TGlzdCgpCiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBnZXRNZW51TGlzdCgpIHsKICAgICAgY29uc3QgeyBkYXRhOiByZXMxIH0gPSBhd2FpdCB0aGlzLiRodHRwLmdldCgnL3N1cGVyL3VzZXJzP3VzZXJuYW1lPScgKyB0aGlzLnVzZXJuYW1lKQogICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoJy91c2VyTWVudVRyZWUvJyArIHJlczEucmVzdWx0LnJvbGVJZCkKICAgICAgaWYgKHJlcy5zdGF0ZSAhPT0gJ3N1Y2Nlc3MnKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign6I635Y+W6I+c5Y2V5L+h5oGv5aSx6LSlJykKICAgICAgdGhpcy5tZW51SW5mbyA9IHJlcy5yZXN1bHQKICAgIH0sCiAgICBhZGRNZW51KCkgewogICAgICAvLyDmj5DkuqTor7fmsYLliY3vvIzooajljZXpooTpqozor4EKICAgICAgdGhpcy4kcmVmcy5hZGRGb3JtUmVmLnZhbGlkYXRlKGFzeW5jIHZhbGlkID0+IHsKICAgICAgICAvLyDooajljZXpooTmoKHpqozlpLHotKUKICAgICAgICBpZiAoIXZhbGlkKSByZXR1cm4KICAgICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KCdtZW51QWRkJywgdGhpcy5hZGRGb3JtKQogICAgICAgIGlmIChyZXMuc3RhdGUgIT09ICdzdWNjZXNzJykgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5re75Yqg6I+c5Y2V5aSx6LSl77yBJykKICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+a3u+WKoOiPnOWNleaIkOWKn++8gScpCiAgICAgICAgLy8g6ZqQ6JeP5re75Yqg5a+56K+d5qGGCiAgICAgICAgdGhpcy5hZGREaWFsb2dWaXNpYmxlID0gZmFsc2UKICAgICAgfSkKICAgIH0sCiAgICAvLyDnm5HlkKzmt7vliqDnlKjmiLflr7nor53moYblhbPpl63kuovku7YKICAgIGFkZERpYWxvZ0Nsb3NlZCgpIHsKICAgICAgdGhpcy4kcmVmcy5hZGRGb3JtUmVmLnJlc2V0RmllbGRzKCkKICAgIH0sCiAgICAvLyDliKDpmaToj5zljZUKICAgIGFzeW5jIHJlbW92ZU1lbnVCeUlkKGlkKSB7CiAgICAgIGNvbnN0IGNvbmZpcm1SZXN1bHQgPSBhd2FpdCB0aGlzLiRjb25maXJtKAogICAgICAgICfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTor6Xoj5zljZUsIOaYr+WQpue7p+e7rT8nLAogICAgICAgICfmj5DnpLonLAogICAgICAgIHsKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgfQogICAgICApLmNhdGNoKGVyciA9PiBlcnIpCiAgICAgIC8vIOeCueWHu+ehruWumiDov5Tlm57lgLzkuLrvvJpjb25maXJtCiAgICAgIC8vIOeCueWHu+WPlua2iCDov5Tlm57lgLzkuLrvvJogY2FuY2VsCiAgICAgIGlmIChjb25maXJtUmVzdWx0ICE9PSAnY29uZmlybScpIHsKICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5pbmZvKCflt7Llj5bmtojliKDpmaQnKQogICAgICB9CiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLmRlbGV0ZSgnbWVudURlbGV0ZS8nICsgaWQpCiAgICAgIGlmIChyZXMuc3RhdGUgIT09ICdzdWNjZXNzJykgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WIoOmZpOiPnOWNleWksei0pe+8gScpCiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yig6Zmk6I+c5Y2V5oiQ5Yqf77yBJykKICAgIH0sCiAgICBzaG93RWRpdERpYWxvZyhpZCkgewogICAgICB0aGlzLmVkaXRNZW51Rm9ybS5pZCA9IGlkCiAgICAgIHRoaXMuZWRpdERpYWxvZ1Zpc2libGUgPSB0cnVlCiAgICB9LAogICAgZWRpdE1lbnUoKSB7CiAgICAgIC8vIOaPkOS6pOivt+axguWJje+8jOihqOWNlemihOmqjOivgQogICAgICB0aGlzLiRyZWZzLmVkaXRNZW51Rm9ybVJlZi52YWxpZGF0ZShhc3luYyB2YWxpZCA9PiB7CiAgICAgICAgLy8gY29uc29sZS5sb2codmFsaWQpCiAgICAgICAgLy8g6KGo5Y2V6aKE5qCh6aqM5aSx6LSlCiAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuCiAgICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAucHV0KAogICAgICAgICAgJ21lbnVFZGl0JywKICAgICAgICAgIHRoaXMuZWRpdE1lbnVGb3JtCiAgICAgICAgKQogICAgICAgIHRoaXMuZWRpdERpYWxvZ1Zpc2libGUgPSBmYWxzZQogICAgICAgIGlmIChyZXMuc3RhdGUgIT09ICdzdWNjZXNzJykgewogICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+abtOaWsOiPnOWNleS/oeaBr+Wksei0pe+8gScpCiAgICAgICAgfQogICAgICAgIC8vIOmakOiXj+e8lui+keiPnOWNleWvueivneahhgogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5pu05paw6I+c5Y2V5L+h5oGv5oiQ5Yqf77yBJykKICAgICAgfSkKICAgIH0sCiAgICBlZGl0RGlhbG9nQ2xvc2VkKCkgewogICAgICB0aGlzLiRyZWZzLmVkaXRNZW51Rm9ybVJlZi5yZXNldEZpZWxkcygpCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/system/menumanagement","sourcesContent":["<template>\n  <div class=\"sa\">\n    <!--    <el-breadcrumb separator-class=\"el-icon-arrow-right\">-->\n    <!--      <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>-->\n    <!--      <el-breadcrumb-item>菜单管理</el-breadcrumb-item>-->\n    <!--      <el-breadcrumb-item>菜单列表</el-breadcrumb-item>-->\n    <!--    </el-breadcrumb>-->\n\n    <el-card class=\"menulist-card\">\n      <el-row>\n        <el-col :span=\"11\">\n          <el-button type=\"primary\" @click=\"addDialogVisible = true\">添加菜单</el-button>\n        </el-col>\n      </el-row>\n      <el-table :data=\"menuInfo\">\n        <el-table-column type=\"expand\">\n          <template slot-scope=\"scopes\">\n            <el-table :data=\"scopes.row.children\" style=\"width: 100%\">\n              <el-table-column type=\"index\" label=\"#\" />\n              <el-table-column label=\"菜单名\" prop=\"menuName\" />\n              <el-table-column label=\"跳转路径\" prop=\"path\" />\n              <el-table-column label=\"ID\" prop=\"id\" />\n              <el-table-column label=\"父ID\" prop=\"parentId\" />\n              <el-table-column label=\"排序\" prop=\"orderNum\" />\n              <el-table-column label=\"操作\">\n                <template slot-scope=\"scope\">\n                  <!-- 修改用户按钮 -->\n                  <el-button\n                    type=\"primary\"\n                    icon=\"el-icon-edit\"\n                    size=\"mini\"\n                    @click=\"showEditDialog(scope.row.id)\"\n                  />\n                  <!-- 删除用户按钮 -->\n                  <el-button\n                    type=\"danger\"\n                    icon=\"el-icon-delete\"\n                    size=\"mini\"\n                    @click=\"removeMenuById(scope.row.id)\"\n                  />\n                </template>\n              </el-table-column>\n            </el-table>\n          </template>\n        </el-table-column>\n        <el-table-column type=\"index\" label=\"#\" />\n        <el-table-column label=\"菜单名\" prop=\"menuName\" />\n        <el-table-column label=\"跳转路径\" prop=\"path\" />\n        <el-table-column label=\"ID\" prop=\"id\" />\n        <el-table-column label=\"父ID\" prop=\"parentId\" />\n        <el-table-column label=\"排序\" prop=\"orderNum\" />\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <!-- 修改用户按钮 -->\n            <el-button\n              type=\"primary\"\n              icon=\"el-icon-edit\"\n              size=\"mini\"\n              @click=\"showEditDialog(scope.row.id)\"\n            />\n            <!-- 删除用户按钮 -->\n            <el-button\n              type=\"danger\"\n              icon=\"el-icon-delete\"\n              size=\"mini\"\n              @click=\"removeMenuById(scope.row.id)\"\n            />\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n\n    <el-dialog title=\"添加菜单\" :visible.sync=\"addDialogVisible\" width=\"50%\" @close=\"addDialogClosed\">\n      <!-- 内容主体区域 -->\n      <el-form ref=\"addFormRef\" :model=\"addForm\" :rules=\"addFormRules\" label-width=\"100px\">\n        <el-form-item label=\"菜单ID\" prop=\"id\">\n          <el-input v-model=\"addForm.id\" />\n        </el-form-item>\n        <el-form-item label=\"菜单名\" prop=\"menuName\">\n          <el-input v-model=\"addForm.menuName\" />\n        </el-form-item>\n        <el-form-item label=\"父菜单ID\" prop=\"parentId\">\n          <el-input v-model=\"addForm.parentId\" />\n        </el-form-item>\n        <el-form-item label=\"父菜单名\" prop=\"parentName\">\n          <el-input v-model=\"addForm.parentName\" />\n        </el-form-item>\n        <el-form-item label=\"显示顺序\" prop=\"orderNum\">\n          <el-input v-model=\"addForm.orderNum\" />\n        </el-form-item>\n        <el-form-item label=\"路由地址\" prop=\"path\">\n          <el-input v-model=\"addForm.path\" />\n        </el-form-item>\n        <el-form-item label=\"类型\" prop=\"path\">\n          <el-input v-model=\"addForm.path\" />\n        </el-form-item>\n      </el-form>\n      <!-- 底部区域 -->\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"addDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"addMenu\">确 定</el-button>\n      </span>\n    </el-dialog>\n\n    <!-- 修改菜单的对话框 -->\n    <el-dialog\n      title=\"修改菜单信息\"\n      :visible.sync=\"editDialogVisible\"\n      width=\"50%\"\n      @close=\"editDialogClosed\"\n    >\n      <!-- 内容主体 -->\n      <el-form\n        ref=\"editMenuFormRef\"\n        :model=\"editMenuForm\"\n        :rules=\"editMenuFormRules\"\n        label-width=\"100px\"\n      >\n        <el-form-item label=\"菜单ID\">\n          <el-input v-model=\"editMenuForm.id\" disabled />\n        </el-form-item>\n        <el-form-item label=\"菜单名\" prop=\"menuName\">\n          <el-input v-model=\"editMenuForm.menuName\" />\n        </el-form-item>\n        <el-form-item label=\"父菜单ID\" prop=\"parentId\">\n          <el-input v-model=\"editMenuForm.parentId\" />\n        </el-form-item>\n        <el-form-item label=\"父菜单名\" prop=\"parentName\">\n          <el-input v-model=\"editMenuForm.parentName\" />\n        </el-form-item>\n        <el-form-item label=\"显示顺序\" prop=\"orderNum\">\n          <el-input v-model=\"editMenuForm.orderNum\" />\n        </el-form-item>\n        <el-form-item label=\"路由地址\" prop=\"path\">\n          <el-input v-model=\"editMenuForm.path\" />\n        </el-form-item>\n        <el-form-item label=\"类型\" prop=\"MType\">\n          <el-select v-model=\"editMenuForm.MType\" placeholder=\"请选择菜单类型\" filterable allow-create default-first-option>\n            <el-option v-for=\"item in menuTypeList\" :key=\"item.id\" :label=\"item.value\" :value=\"item.id\" />\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"editDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"editMenu\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      username: localStorage.getItem('username'),\n      menuTypeList: [\n        { id: 'M', value: '目录' },\n        { id: 'C', value: '菜单' },\n        { id: 'F', value: '按钮' }\n      ],\n      menuInfo: [],\n      queryInfo: {},\n      addDialogVisible: false,\n      addForm: {\n        id: '',\n        menuName: '',\n        parentName: '',\n        parentId: '',\n        orderNum: '',\n        path: '',\n        MType: ''\n      },\n      addFormRules: {\n        id: [\n          { required: true, message: '请输入菜单ID', trigger: 'blur' }\n        ],\n        menuName: [\n          { required: true, message: '请输入菜单名', trigger: 'blur' }\n        ],\n        parentId: [\n          { required: true, message: '请输入父菜单ID', trigger: 'blur' }\n        ],\n        parentName: [\n          { required: true, message: '请输入父菜单名', trigger: 'blur' }\n        ],\n        orderNum: [\n          { required: true, message: '请输入显示顺序', trigger: 'blur' }\n        ],\n        path: [\n          { required: true, message: '请输入路由路径', trigger: 'blur' }\n        ]\n      },\n      editDialogVisible: false,\n      editMenuForm: {\n        id: '',\n        menuName: '',\n        parentName: '',\n        parentId: '',\n        orderNum: '',\n        path: ''\n      },\n      editMenuFormRules: {\n        id: [\n          { required: true, message: '请输入菜单ID', trigger: 'blur' }\n        ],\n        menuName: [\n          { required: true, message: '请输入菜单名', trigger: 'blur' }\n        ],\n        parentId: [\n          { required: true, message: '请输入父菜单ID', trigger: 'blur' }\n        ],\n        parentName: [\n          { required: true, message: '请输入父菜单名', trigger: 'blur' }\n        ],\n        orderNum: [\n          { required: true, message: '请输入显示顺序', trigger: 'blur' }\n        ],\n        path: [\n          { required: true, message: '请输入路由路径', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  created() {\n    this.getMenuList()\n  },\n  methods: {\n    async getMenuList() {\n      const { data: res1 } = await this.$http.get('/super/users?username=' + this.username)\n      const { data: res } = await this.$http.get('/userMenuTree/' + res1.result.roleId)\n      if (res.state !== 'success') return this.$message.error('获取菜单信息失败')\n      this.menuInfo = res.result\n    },\n    addMenu() {\n      // 提交请求前，表单预验证\n      this.$refs.addFormRef.validate(async valid => {\n        // 表单预校验失败\n        if (!valid) return\n        const { data: res } = await this.$http.post('menuAdd', this.addForm)\n        if (res.state !== 'success') {\n          this.$message.error('添加菜单失败！')\n          return\n        }\n        this.$message.success('添加菜单成功！')\n        // 隐藏添加对话框\n        this.addDialogVisible = false\n      })\n    },\n    // 监听添加用户对话框关闭事件\n    addDialogClosed() {\n      this.$refs.addFormRef.resetFields()\n    },\n    // 删除菜单\n    async removeMenuById(id) {\n      const confirmResult = await this.$confirm(\n        '此操作将永久删除该菜单, 是否继续?',\n        '提示',\n        {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }\n      ).catch(err => err)\n      // 点击确定 返回值为：confirm\n      // 点击取消 返回值为： cancel\n      if (confirmResult !== 'confirm') {\n        return this.$message.info('已取消删除')\n      }\n      const { data: res } = await this.$http.delete('menuDelete/' + id)\n      if (res.state !== 'success') return this.$message.error('删除菜单失败！')\n      this.$message.success('删除菜单成功！')\n    },\n    showEditDialog(id) {\n      this.editMenuForm.id = id\n      this.editDialogVisible = true\n    },\n    editMenu() {\n      // 提交请求前，表单预验证\n      this.$refs.editMenuFormRef.validate(async valid => {\n        // console.log(valid)\n        // 表单预校验失败\n        if (!valid) return\n        const { data: res } = await this.$http.put(\n          'menuEdit',\n          this.editMenuForm\n        )\n        this.editDialogVisible = false\n        if (res.state !== 'success') {\n          return this.$message.error('更新菜单信息失败！')\n        }\n        // 隐藏编辑菜单对话框\n        this.$message.success('更新菜单信息成功！')\n      })\n    },\n    editDialogClosed() {\n      this.$refs.editMenuFormRef.resetFields()\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n</style>\n"]}]}